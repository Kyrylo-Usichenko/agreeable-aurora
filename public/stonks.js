"use strict";(()=>{var u="https://api.onedollarstats.com/events",l=document.currentScript,s=h(l);async function c(t,e){let n=Object.assign(Object.assign({},await g()),{e:[Object.assign({h:s},t)]});if(e&&Object.keys(e).length>0&&(n.qs=e),navigator.sendBeacon!==void 0){if(navigator.sendBeacon(o(),JSON.stringify(n)))return;console.warn("sendBeacon() didn't queue the request, falling back to fetch()")}window.fetch(o(),{body:JSON.stringify(n),headers:{"Content-Type":"application/json"},keepalive:!0,method:"POST"}).catch(i=>console.error(`fetch() failed: ${i.message}`))}async function g(){let t=new URL(location.href);return t.search="",{u:t.href}}function d(){let t=new URLSearchParams(location.search),e={};return["utm_campaign","utm_source","utm_medium","utm_term","utm_content"].forEach(n=>{let i=t.get(n);i&&(e[n]=i)}),e}async function a(){if(m())return r("PageView","Ignore flag is set");if(!s&&a.lastPage===location.pathname)return r("PageView","Pathname has not changed");a.lastPage=location.pathname;let t=new URL(location.href),e=document.referrer?new URL(document.referrer):void 0;e&&(e.search="");let n=d();c({t:"PageView",r:e&&e.hostname!==t.hostname?e.href:void 0},n)}(function(t){t.lastPage=null})(a||(a={}));if(window.history.pushState){let t=window.history.pushState;window.history.pushState=function(e,n,i){t.apply(this,[e,n,i]),a()},window.addEventListener("popstate",a)}document.visibilityState!=="visible"?document.addEventListener("visibilitychange",()=>{!a.lastPage&&document.visibilityState==="visible"&&a()}):a();async function f(t,e){c({t,p:e||void 0})}function o(){let t=document.querySelector("#stonks")||document.currentScript;return t?.getAttribute("data-url")||u}window.trackCustomEvent=f;function h(t){return t.getAttribute("data-hash-routing")!==null}function m(){return window.localStorage.getItem("unexpected_ignore")==="true"}function r(t,e){console.warn(`Ignoring event "${t}": ${e}`)}})();
